<div class="content__title">
  <h1>
    商品管理
  </h1>
</div>
<nz-card>
  <ng-template #body>
    <form nz-form [formGroup]="searchForm" (ngSubmit)="search()">
      <div nz-row nz-form-item [nzGutter]="16">
        <div nz-form-label nz-col [nzSm]="2">
          <label for="name">商品名称</label>
        </div>
        <div nz-form-control nz-col [nzSm]="5">
          <nz-input formControlName="name"></nz-input>
        </div>

        <div nz-form-label nz-col [nzSm]="2">
          <label>商品类别</label>
        </div>
        <div nz-form-control nz-col [nzSm]="5">
          <nz-select formControlName="type" [nzSize]="'large'">
            <nz-option *ngFor="let type of goodsTypes$ | async" [nzLabel]="type.name" [nzValue]="type.id"></nz-option>
          </nz-select>
        </div>

        <div nz-col [nzSm]="5" [nzOffset]="2">
          <button nz-button [nzType]="'primary'" type="submit">{{ 'search' | translate }}</button>
          <button nz-button (click)="clear()" type="button">{{ 'clear' | translate }}</button>
        </div>
      </div>
    </form>
  </ng-template>
</nz-card>
<div nz-row [nzGutter]="16">
  <div nz-col [nzMd]="24">
    <nz-card>
      <ng-template #body>
        <div class="mb-sm text-right">
          <button nz-button [nzType]="'primary'" (click)="toAddGoodsType()">
            <span>添加类别</span>
          </button>
          <button nz-button [nzType]="'primary'" (click)="toAddGoods()">
            <span>添加商品</span>
          </button>
        </div>

        <app-wrap-table [pageIndexAndSizeChange]="pageIndexAndSizeChange$" [actionExecute]="actionExecute$" [showCheckbox]="false"
          [dataSource]="currentGoods$" [loading]="fetchGoodsLoading$" [total]="GoodsTotalCount$" [columns]="columns" [actions]="actions">
        </app-wrap-table>

      </ng-template>
    </nz-card>
  </div>
</div>