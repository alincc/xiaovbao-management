<div class="content__title">
  <h1>活动管理</h1>
</div>

<nz-card>
  <ng-template #title>创建活动</ng-template>
  <ng-template #body>
    <div nz-row [nzGutter]="16">
      <div nz-col [nzMd]="8">
        <nz-card>
          <ng-template #title>满减活动</ng-template>
          <ng-template #body>
            <div>
              <img src="assets/img/jian.png" alt="">
            </div>
            <button nz-button disabled [nzType]="'primary'" class="mr-sm">
              <span>立刻创建</span>
            </button>
          </ng-template>
        </nz-card>
      </div>
      <div nz-col [nzMd]="8">
        <nz-card>
          <ng-template #title>新客立减</ng-template>
          <ng-template #body>
            <div>
              <img src="assets/img/xink.gif" alt="">
            </div>
            <button nz-button disabled [nzType]="'primary'" class="mr-sm">
              <span>立刻创建</span>
            </button>
          </ng-template>
        </nz-card>
      </div>
      <div nz-col [nzMd]="8">
        <nz-card>
          <ng-template #title>折扣商品</ng-template>
          <ng-template #body>
            <div>
              <img src="assets/img/zhe.png" alt="">
            </div>
            <button nz-button [nzType]="'primary'" class="mr-sm" (click)="toCreateDiscountActivity()">
              <span>立刻创建</span>
            </button>
          </ng-template>
        </nz-card>
      </div>
    </div>
  </ng-template>
</nz-card>

<nz-card>
  <ng-template #title>活动列表</ng-template>
  <ng-template #body>
    <nz-table #nzTable [nzAjaxData]="showActivities$ | async" [nzShowSizeChanger]="true" [nzLoading]="loading$ | async" [nzTotal]="total$ | async"
      [(nzPageIndex)]="pageIndex" (nzPageIndexChange)="pageIndexChange()" [(nzPageSize)]="pageSize" (nzPageSizeChange)="pageSizeChange()">
      <thead nz-thead>
        <tr>
          <th nz-th nzWidth="200px">
            <span>活动名称</span>
          </th>
          <th nz-th>
            <span>活动状态</span>
          </th>
          <th nz-th>
            <span>操作</span>
          </th>
        </tr>
      </thead>
      <tbody nz-tbody>
        <tr nz-tbody-tr *ngFor="let i of nzTable.data">
          <td nz-td>
            <span *ngIf="i.type === 0">
              <img src="assets/img/jian.png" alt="">
            </span>
            <span *ngIf="i.type === 1">
              <img src="assets/img/xink.gif" alt="">
            </span>
            <span *ngIf="i.type === 2">
              <img src="assets/img/zhe.png" alt="">
            </span>
            {{i.name}}
          </td>
          <td nz-td>{{i.status}}</td>

          <td nz-td>
            <span>
              <a (click)="toEditGoods(data)">{{ 'edit' | translate }}</a>
              <span nz-table-divider></span>
              <nz-popconfirm [nzTitle]="'Are you sure to delete?' | translate" [nzOkText]="'ok' | translate" [nzCancelText]="'cancel' | translate"
                (nzOnConfirm)="ensureDelete(data.id)">
                <a nz-popconfirm>{{ 'delete' | translate }}</a>
              </nz-popconfirm>
            </span>
          </td>
        </tr>
      </tbody>
    </nz-table>
  </ng-template>
</nz-card>
